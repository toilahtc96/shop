<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<ui:composition template="../templateClient/layout.xhtml">
	<ui:define name="banner">
		<section class="banner-area organic-breadcrumb">
		<div class="container">
			<div
				class="breadcrumb-banner d-flex flex-wrap align-items-center justify-content-end">
				<div class="col-first">
					<h1>Shop Category Page</h1>
					<nav class="d-flex align-items-center"> <a href="index.html">Home<span
						class="lnr lnr-arrow-right"></span></a> <a href="#">Shop<span
						class="lnr lnr-arrow-right"></span></a> <a href="category.html">Fashion
						Category</a> </nav>
				</div>
			</div>
		</div>
		</section>
	</ui:define>

	<ui:define name="content">
		<div class="container">
			<div class="row">
				<div class="col-xl-3 col-lg-4 col-md-5">
					<h:form>
						<div class="sidebar-categories">
							<div class="head">Browse Categories</div>
							<ui:repeat var="item" value="#{categoryController.list}">
								<ul class="main-categories">
									<li class="main-nav-list"><a data-toggle="collapse"
										href="#fruitsVegetable" aria-expanded="false"
										aria-controls="fruitsVegetable"><span
											class="lnr lnr-arrow-right"></span> <h:commandLink
												value="#{item.catName}">
												<f:ajax execute="@form" render=":formCate:resultAjax"
													listener="#{clientCategoryController.getListProByIdCate(item.catId)}" />
												<f:param name="catId" value="#{category.catId}" />
											</h:commandLink></a></li>
								</ul>
							</ui:repeat>
						</div>
					</h:form>
					<div class="sidebar-filter mt-50">
						<div class="top-filter-head">Product Filters</div>
						<div class="common-filter">
							<div class="head">Brands</div>
							<h:form action="#">
								<ul>
									<li class="filter-list"><input class="pixel-radio"
										type="radio" id="apple" name="brand" /><label for="apple">Apple<span>(29)</span></label></li>
									<li class="filter-list"><input class="pixel-radio"
										type="radio" id="asus" name="brand" /><label for="asus">Asus<span>(29)</span></label></li>
									<li class="filter-list"><input class="pixel-radio"
										type="radio" id="gionee" name="brand" /><label for="gionee">Gionee<span>(19)</span></label></li>
									<li class="filter-list"><input class="pixel-radio"
										type="radio" id="micromax" name="brand" /><label
										for="micromax">Micromax<span>(19)</span></label></li>
									<li class="filter-list"><input class="pixel-radio"
										type="radio" id="samsung" name="brand" /><label for="samsung">Samsung<span>(19)</span></label></li>
								</ul>
							</h:form>
						</div>
						<div class="common-filter">
							<div class="head">Color</div>
							<h:form action="#">
								<ul>
									<li class="filter-list"><input class="pixel-radio"
										type="radio" id="black" name="color" /><label for="black">Black<span>(29)</span></label></li>
									<li class="filter-list"><input class="pixel-radio"
										type="radio" id="balckleather" name="color" /><label
										for="balckleather">Black Leather<span>(29)</span></label></li>
									<li class="filter-list"><input class="pixel-radio"
										type="radio" id="blackred" name="color" /><label
										for="blackred">Black with red<span>(19)</span>
									</label></li>
									<li class="filter-list"><input class="pixel-radio"
										type="radio" id="gold" name="color" /><label for="gold">Gold<span>(19)</span></label></li>
									<li class="filter-list"><input class="pixel-radio"
										type="radio" id="spacegrey" name="color" /><label
										for="spacegrey">Spacegrey<span>(19)</span></label></li>
								</ul>
							</h:form>
						</div>
						<div class="common-filter">
							<div class="head">Price</div>
							<div class="price-range-area">
								<div id="price-range"></div>
								<div class="value-wrapper d-flex">
									<div class="price">Price:</div>
									<span>$</span>
									<div id="lower-value"></div>
									<div class="to">to</div>
									<span>$</span>
									<div id="upper-value"></div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-xl-9 col-lg-8 col-md-7">
					<!-- Start Filter Bar -->
					<div class="filter-bar d-flex flex-wrap align-items-center">
						<h:form>
							<div class="sorting">
								<h:selectOneMenu value="#{clientCategoryController.value}">
									<f:selectItem itemValue="Price" />
									<f:selectItem itemValue="Name" />
									<f:selectItem itemValue="Date" />
									<f:ajax
										listener="#{clientCategoryController.getListProByIdCateSort()}"
										execute="@form" render=":formCate:resultAjax" />
								</h:selectOneMenu>
							</div>
						</h:form>
						<div class="sorting mr-auto">
							<select>
								<option value="1">Show 12</option>
								<option value="1">Show 12</option>
								<option value="1">Show 12</option>
							</select>
						</div>
						<div class="pagination">
							<h:form id="paginatorForm">
								<h:outputText id="outputName" />
								<h:inputHidden id="pageCurrent"
									value="#{clientCategoryController.pageCurrent}" />
								<c:forEach id="" var="i"
									begin="#{clientCategoryController.headPage}"
									end="#{clientCategoryController.tailPage}">
									<c:if test="${i == clientCategoryController.headPage}">
										<h:commandLink href="" class="prev-arrow"
											onclick="return goPrev(this);">
											<i class="fa fa-long-arrow-left" aria-hidden="true"
												style="padding-top: 30%; padding-bottom: 34%"></i>
												<f:ajax execute="@form" render=":paginatorForm :formCate:resultAjax"
												listener="#{clientCategoryController.prevPage}" />
										</h:commandLink>

									</c:if>
									<c:if test="${i == clientCategoryController.pageCurrent}">
										<h:commandLink href="" class="active"
											onclick="return goPage(this,#{clientCategoryController.pageCurrent});">
											<h:outputText value="#{clientCategoryController.pageCurrent}" />
										</h:commandLink>
									</c:if>
									<c:if test="${i gt clientCategoryController.pageCurrent }">
										<h:commandLink href="" class=""
											onclick="return goPage(this,#{clientCategoryController.pageCurrent + 1});">
											<h:outputText
												value="#{clientCategoryController.pageCurrent +1}" />
										</h:commandLink>
									</c:if>
									<c:if test="${i == clientCategoryController.tailPage}">
										<h:commandLink class="next-arrow"
											onclick="return goNext(this,#{clientCategoryController.totalPage});">
											<i class="fa fa-long-arrow-right" aria-hidden="true"
												style="padding-top: 30%; padding-bottom: 34%"></i>
											<f:ajax execute="@form" render=":paginatorForm :formCate:resultAjax"
												listener="#{clientCategoryController.nextPage}" />
										</h:commandLink>
									</c:if>
								</c:forEach>
							</h:form>

						</div>
					</div>
					<!-- End Filter Bar -->
					<!-- Start Best Seller -->

					<section class="lattest-product-area pb-40 category-list">
					<h:form id="formCate">
						<h:inputHidden id="cartInCate"
							value="#{clientCategoryController.cartInCate}" />
						<h:outputText id="outputName" />
						<h:panelGroup class="row" id="resultAjax">
							<ui:repeat var="pro" value="#{clientCategoryController.list}">
								<!-- single product -->
								<div class="col-lg-4 col-md-6">
									<div class="single-product">
										<h:graphicImage class="img-fluid" name="img/product/p1.jpg"
											alt="" />
										<div class="product-details">
											<h6>
												<h:outputText value="#{pro.proName}" />
											</h6>
											<div class="price">
												<h6>
													<h:outputText value="#{pro.proPrice}" />
												</h6>
												<h6 class="l-through">$210.00</h6>
											</div>
											<div class="prd-bottom">
												<h:commandLink class="social-info" id="link"
													onclick="return addToCart(#{pro.proId});">
													<span class="ti-bag"></span>
													<p class="hover-text">add to bag</p>
													<!--    -->
													<f:ajax execute="@form" render=":formCate:outputName"
														listener="#{clientCategoryController.updateCart}" />
													<!-- <f:param name="id" value="#{product.proId}" /> -->
												</h:commandLink>
												<a href="" class="social-info"> <span
													class="lnr lnr-heart"></span>
													<p class="hover-text">Wishlist</p>
												</a> <a href="" class="social-info"> <span
													class="lnr lnr-sync"></span>
													<p class="hover-text">compare</p>
												</a>
												<h:commandLink class="social-info"
													action="#{productController.productDetail(pro.proId)}">
													<span class="lnr lnr-move"></span>
													<p class="hover-text">view more</p>
													<!-- <f:param name="id" value="#{product.proId}" /> -->
												</h:commandLink>
											</div>
										</div>
									</div>
								</div>

							</ui:repeat>
						</h:panelGroup>
					</h:form> </section>

					<!-- End Best Seller -->


				</div>
			</div>
		</div>

	</ui:define>
	<ui:define name="scriptJSF">
		<div class="modal">
			<div class="loading"></div>
			<!-- htc -->
			<!-- Place at bottom of page before JS -->
		</div>
		<h:outputScript rendered="#{not empty user}" library="js"
			name="client/categoryJS.js" />
		<h:outputScript rendered="#{empty user}" library="js"
			name="client/myEmptyUserjs.js" />
		<h:outputScript library="js" name="client/categoryPublicJS.js" />

	</ui:define>
</ui:composition>
</html>